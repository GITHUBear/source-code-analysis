# Orion

## 关键字

- NVM
- RDMA
- 分布式文件系统

## 摘要

- 随着 NVM 的出现，分布式文件系统的性能瓶颈从存储媒介转移到了软件层
- 可字节寻址的存储器的出现，不再要求传统文件系统对块设备的抽象，
用户在使用文件系统时都是按照字节流的方式进行处理的，这一点与 NVM 是直接契合的
- 类似 Octopus，对网络和存储进行紧耦合

Orion 实现了以下目标：

- 低软件开销
- 客户端在本地缓存文件系统数据，将更改发送到元数据服务器
- 日志结构化来更轻松地实现一致性
- DAX 支持
- 可靠性

## 核心技术

- RDMA: 关于 read/write 以及 send/recv 两种方式在 Octopus 中有所介绍。
另外 RDMA 支持远程访问物理地址和虚拟地址两种方式，而 Orion 
使用物理地址方式来避免 RDMA 硬件对虚拟地址的转换过程

i. 一个节点上利用 RDMA 处理请求的能力代价并不高昂

ii. RDMA 访问速度上相对本地访问还是较慢的

iii. 相比于传统的网络 IO，RDMA 更关注传输数据大小，越小效率越高

iv. RDMA 并不保证数据写入的持久性

## 系统设计

### 集群结构

Orion 采用了单个元数据服务器、多个数据服务器的架构，这种架构与 `hadoop` 系统类似

Orion 允许一个文件的数据保存在不同的 data store 上